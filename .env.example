# AWS Bedrock Knowledge Base Configuration
BEDROCK_KB_ID=your-knowledge-base-id-here
AWS_REGION=eu-west-1

# AWS Credentials (OPTIONAL - for local development only)
#
# You have 3 options for authentication:
#
# Option 1: Use environment variables (uncomment below)
# AWS_ACCESS_KEY_ID=your-access-key-id
# AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_SESSION_TOKEN=your-session-token  # Only if using temporary credentials
#
# Option 2: Use ~/.aws/credentials file (recommended for local development)
# - Don't set the variables above
# - boto3 will automatically use your AWS credentials file
# - This is the most secure option for local development
#
# Option 3: Use IAM role (for EC2 deployment)
# - Don't set the variables above
# - EC2 instance will use its attached IAM role
# - This is the recommended option for production deployment
#
# ⚠️  WARNING: Never commit AWS credentials to git!

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
LOG_LEVEL=INFO

# ECR Configuration (for deployment)
ECR_URI=your-account-id.dkr.ecr.eu-west-1.amazonaws.com/bedrock-mcp-server
IMAGE_TAG=latest

# Authentication Settings (Microsoft Entra ID)
# Authentication is DISABLED by default for backward compatibility
ENABLE_AUTH=false
AUTH_PROVIDER=entra

# Required when ENABLE_AUTH=true:
# Get these from Azure Portal → Microsoft Entra ID → App Registrations
#
# 1. Create App Registration in Azure Portal
#    - Name: Bedrock MCP Server (or your preferred name)
#    - Supported account types: Single tenant (or multi-tenant)
#    - Redirect URI: https://claude.ai/api/mcp/auth_callback
#
# 2. Record these values:
#    - Application (client) ID → ENTRA_CLIENT_ID
#    - Directory (tenant) ID → ENTRA_TENANT_ID
#
# 3. Create client secret (Certificates & secrets)
#    - This will be configured in Claude.ai, NOT in this .env file
#
# 4. Configure API permissions:
#    - Microsoft Graph → Delegated permissions → User.Read
#    - Grant admin consent if required
#
ENTRA_TENANT_ID=your-tenant-id-guid-here
ENTRA_CLIENT_ID=your-client-id-guid-here

# Optional - defaults to ENTRA_CLIENT_ID if not set:
# ENTRA_AUDIENCE=api://your-client-id

# How OAuth2 works with Claude.ai:
# - Your server acts as an OAuth2 proxy to Azure AD
# - Claude.ai automatically constructs OAuth URLs: /authorize and /token
# - Client Secret is entered in Claude.ai, NOT stored on your server
# - Server forwards OAuth requests to Azure AD with your ENTRA_TENANT_ID
# - Azure AD issues JWT tokens that your server validates
